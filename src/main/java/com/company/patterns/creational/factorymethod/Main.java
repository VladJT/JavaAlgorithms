package com.company.patterns.creational.factorymethod;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;

/**
 * <h1>–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ (Factory Method)</h1>
 * <font color="#fa8e47">–°–ª–æ–∂–Ω–æ—Å—Ç—å:‚≠ê</font>‚≠ê‚≠ê<br>
 * <font color="#fa8e47">–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å:‚≠ê‚≠ê‚≠ê</font><p>
 * –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –∫–ª–∞—Å—Å–∞.<br>
 * –ó–∞–¥–∞—á–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ¬´–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥¬ª ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤ –ø–æ–¥–∫–ª–∞—Å—Å—ã
 * <p>
 * <font color="#fa8e47">–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:<br></font>
 * –ü–∞—Ç—Ç–µ—Ä–Ω –º–æ–∂–Ω–æ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –≤ –ª—é–±–æ–º Java-–∫–æ–¥–µ, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
 * <p>
 * <font color="#fa8e47">–ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞:<br></font> –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ —Å–æ–∑–¥–∞—é—â–∏–º –º–µ—Ç–æ–¥–∞–º,
 * –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.
 * –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø—ã —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞—Ö.
 * <p>
 * <font color="#fa8e47">–î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞:<br></font>
 * –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—è—Å—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º (ConcreteProduct),
 * –∞ –æ–ø–µ—Ä–∏—Ä—É—è –ª–∏—à—å –æ–±—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (Product);<br>
 * –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è–º–∏ –∫–ª–∞—Å—Å–æ–≤.<br>
 * <font color="#fa8e47">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:<br></font>
 * –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ Creator –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ (ConcreteProduct).
 */

/*
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –º–æ–¥—É–ª—å –∏–≥—Ä–æ–≤—ã—Ö –Ω–∞–≥—Ä–∞–¥. –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–≥—Ä–∞–¥—É –ó–û–õ–û–¢–û,
–ø–æ—ç—Ç–æ–º—É –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ GoldReward.
–ß–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –≤–∞—à–∞ –∏–≥—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ–π.
–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–µ—Å—è—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∏–≥—Ä–æ–∫–æ–≤ –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –≤–∞–ª—é—Ç—ã GEM –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
 */

// –°–æ–∑–¥–∞–ª–∏ –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IGameItem
interface GameItem {
    void open();
}

class GoldReward implements GameItem {
    @Override
    public void open() {
        System.out.println("ü™ô Gold chest open");
    }
}

class GemReward implements GameItem {
    @Override
    public void open() {
        System.out.println("üíé Gem chest open");
    }
}

// —Å–æ–∑–¥–∞–µ–º ItemGenerator, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö
abstract class ItemGenerator {
    public abstract GameItem createItem();// factoryMethod
}

// –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ItemGenerator
class GoldGenerator extends ItemGenerator {
    @Override
    public GameItem createItem() {
        return new GoldReward();
    }
}

class GemGenerator extends ItemGenerator {
    @Override
    public GameItem createItem() {
        return new GemReward();
    }
}

class Main {
    public static void main(String[] args) {
        List<ItemGenerator> generatorList = new ArrayList<>();
        generatorList.add(new GemGenerator());
        generatorList.add(new GoldGenerator());

        for (int i = 0; i < 10; i++) {
            int idx = new Random().nextInt(2);// 0 .. 1
            GameItem newReward = generatorList.get(idx).createItem();
            newReward.open();
        }
    }
}
